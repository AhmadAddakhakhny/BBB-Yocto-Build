header:
  version: 12

repos:
  poky:
    url: https://git.yoctoproject.org/poky
    refspec: scarthgap
    path: src/poky

  meta-openembedded:
    url: https://github.com/openembedded/meta-openembedded.git
    refspec: scarthgap
    path: src/meta-openembedded

  meta-arm:
    url: https://git.yoctoproject.org/meta-arm
    refspec: scarthgap
    path: src/meta-arm

  meta-ti:
    url: https://git.yoctoproject.org/meta-ti
    refspec: scarthgap
    path: src/meta-ti

  meta-qt6:
    url: https://code.qt.io/yocto/meta-qt6.git
    refspec: "lts-6.8"
    path: src/meta-qt6

  # Custom application layer
  meta-bbb:
    path: layers/meta-bbb

machine: beaglebone
distro: bbb
target: core-image-minimal

local_conf_header:
  bbb-app: |
    # Add your custom HMI application from meta-bbb to the rootfs
    CORE_IMAGE_EXTRA_INSTALL += "hmi"

  bbb-config: |
    # Enable SSH access via Dropbear
    IMAGE_FEATURES += "ssh-server-dropbear"

bblayers_conf_header:
  base: |
    BBLAYERS += "${TOPDIR}/../src/poky/meta"
    BBLAYERS += "${TOPDIR}/../src/poky/meta-poky"
    BBLAYERS += "${TOPDIR}/../src/poky/meta-yocto-bsp"
    BBLAYERS += "${TOPDIR}/../src/meta-openembedded/meta-oe"
    BBLAYERS += "${TOPDIR}/../src/meta-openembedded/meta-python"
    BBLAYERS += "${TOPDIR}/../src/meta-arm/meta-arm-toolchain"
    BBLAYERS += "${TOPDIR}/../src/meta-arm/meta-arm"
    BBLAYERS += "${TOPDIR}/../src/meta-ti/meta-ti-bsp"
    BBLAYERS += "${TOPDIR}/../src/meta-ti/meta-beagle"
    BBLAYERS += "${TOPDIR}/../src/meta-qt6"
    BBLAYERS += "${TOPDIR}/../layers/meta-bbb"
